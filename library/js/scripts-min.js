!function(t){function e(){var e=t(".sidebar"),a=e.outerHeight(),n=t(window).height();e.add(".cover-nav").css("margin-top",(n-a)/2)}function a(){v.each(function(){var e=t(this);e.data("aspect_ratio",t(this).attr("height")/t(this).attr("width")).height(e.width()*e.data("aspect_ratio"))}),window.requestAnimationFrame(n)}function n(){window.requestAnimationFrame(n);var e=v.first().width(),a=t(".glass-post-body .glass-wrapper").width();a!==e&&v.each(function(){var e=t(this);e.width(a).height(a*e.data("aspect_ratio"))})}function r(){"undefined"!=typeof history.replaceState&&history.replaceState({slug:location.pathname.replace("/","")},null,null),window.onpopstate=function(){u(location.href,!0)}}function i(t,e){history.pushState({slug:t},e,t)}function o(e,a){t("html,body").stop().animate({scrollTop:e},a)}function s(e){var a=t(".sidebar, .menu-toggle");a.is(e.target)||0!==a.has(e.target).length||(m.removeClass("slide"),g.addClass("transparent"))}function c(){d.on("click",".menu-toggle",function(t){t.preventDefault(),g.toggleClass("transparent"),m.toggleClass("slide")}),d.mouseup(function(t){s(t)}).on("touchend",function(t){s(t)})}function l(){d.on("click",'a[href^="'+h+'"], a[href^="/"], a[href^="./"], a[href^="../"]',function(e){var a=t(this),n=a.attr("href");u(n),t('a[href="'+n+'"').addClass("current_link").parent().addClass("current_page_item"),e.preventDefault()}),d.on("click",".page-numbers",function(){o(0,500)})}function u(a,n){w.removeClass("current_link"),t(".current_page_item").removeClass("current_page_item"),"undefined"==typeof n&&(n=!1),t.get(a,function(r){var o=t(r),s=t("#dynamic",o).html(),c=o.filter("title").text();"undefined"==typeof history.pushState&&(location.href=a),n||i(a,c),p.html(s),a.slice(0,-1)===h?(e(),p.addClass("cover")):p.removeClass("cover")}).done(function(){g.addClass("transparent"),p.removeClass("slide")})}function f(){r(),e(),a(),l(),c()}var h=albatross_vars.site_url,d=t(document),p=t("#dynamic"),m=t(".content"),g=t(".sidebar"),v=t('iframe[src*="//www.youtube.com"], iframe[src*="//player.vimeo.com"]'),w=t('a[href^="'+h+'"], a[href^="/"], a[href^="./"], a[href^="../"]');f()}(jQuery);