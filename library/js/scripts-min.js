!function($,e){function t(){var e=$(".post-body"),t=e.children().last();t.is("p")?t.append(" &#8718;"):e.append('<hr class="endpost">')}function n(){h.each(function(){var e=$(this);e.data("aspect_ratio",$(this).attr("height")/$(this).attr("width")).height(e.width()*e.data("aspect_ratio"))}),window.requestAnimationFrame(a)}function a(){window.requestAnimationFrame(a);var e=h.first().width(),t=$(".post-body").width();t!==e&&h.each(function(){var e=$(this);e.width(t).height(t*e.data("aspect_ratio"))})}function i(e){var t=$(".sidebar, .menu-toggle");t.is(e.target)||0!==t.has(e.target).length||(l.removeClass("slide"),w.addClass("transparent"))}function o(){u.on("click",".menu-toggle",function(e){e.preventDefault(),w.toggleClass("transparent"),l.toggleClass("slide")}),u.mouseup(function(e){i(e)}).on("touchend",function(e){i(e)})}function r(){d.hasClass("page-template-page-cover-php")||o();var e=':not(.menu-toggle):not(a[href*="/wp-content/"])',t='a[href^="'+c+'"]'+e+', a[href^="/"]'+e+', a[href^="./"]'+e+', a[href^="../"]'+e;u.on("click",t,function(e){if(!e.metaKey&&!e.ctrlKey){e.preventDefault();var t=e.target.href||e.currentTarget.href;$(".current-menu-item").removeClass("current-menu-item"),$(this).parent().addClass("current-menu-item"),l.addClass("fade"),setTimeout(function(){l.hasClass("slide")?(l.removeClass("slide"),setTimeout(function(){window.location.href=t},300)):window.location.href=t},100)}})}function s(){n(),r(),"single.php"===m&&t()}var c=e.site_url,m=e.current_theme_template,u=$(document),d=$("body"),l=$("#dynamic"),w=$(".sidebar"),h=$('iframe[src*="//www.youtube.com"], iframe[src*="//player.vimeo.com"]');s()}(jQuery,albatross_vars),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),a=Math.max(0,16-(n-e)),i=window.setTimeout(function(){t(n+a)},a);return e=n+a,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();